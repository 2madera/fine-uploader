<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Fine Uploader Basic demo</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Fine Uploader Basic Demo">
        <meta name="author" content="A. Bennouna, tellibus">
        <link href="master/client/fineuploader.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="css/custom.css" rel="stylesheet">
        <link href="css/prettify.css" rel="stylesheet">
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">            
        <script src="http://code.jquery.com/jquery-latest.js"></script>
        <script src="http://platform.twitter.com/widgets.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/js/bootstrap.min.js"></script>
        <script src="js/prettify.js"></script>
        <script src="master/client/js/header.js"></script>
        <script src="master/client/js/util.js"></script>
        <script src="master/client/js/button.js"></script>
        <script src="master/client/js/handler.base.js"></script>
        <script src="master/client/js/handler.form.js"></script>
        <script src="master/client/js/handler.xhr.js"></script>
        <script src="master/client/js/uploader.basic.js"></script>
        <script src="master/client/js/uploader.js"></script>
    </head>
    <body data-spy="scroll" data-target="#demoList">
        <div id="navbar"></div>

        <div id="jumbotron" class="jumbotron subhead">
            <div class="container">
                <h1>Fine Uploader Basic a.k.a “FUB” demos</h1>
                <p>Want to have total control? See here!</p>
            </div>
        </div>

        <div class="container">
            <div class="row span12">
                <section>
                    <p class="lead">While File Uploader has a full set of pre-programmed callbacks and full file and CSS templates, File Uploader <em>Basic</em> provides just the callback handlers and leave it all to the developer.</p>
                    <div class="row-fluid">
                        <div class="span4">
                            <p>For this demo, we're using the Bootstrap CSS classes.</p>
                            <div id="fine-uploader-basic" class="btn btn-success"><div><i class="icon-upload icon-white"></i>Click to upload</div></div>
                            <div id="messages"></div>
                        </div>
    
                        <div class="span8">
                            <pre class="prettyprint linenums">&lt;div id="fine-uploader-basic" class="btn btn-success">
  &lt;i class="icon-upload icon-white">&lt;/i> Click to upload
&lt;/div>
&lt;div id="messages">&lt;/div>

&lt;script>
  $(document).ready(function() {
    $fub = $('#fine-uploader-basic');
    $messages = $('#messages');

    var uploader = new qq.FineUploaderBasic({
      button: $fub[0],
      request: {
        endpoint: 'server/handleUploads'
      },
      validation: {
        allowedExtensions: ['jpeg', 'jpg', 'gif', 'png'],
        sizeLimit: 204800 // 200 kB = 200 * 1024 bytes
      },
      callbacks: {
        onSubmit: function(id, fileName) {
          $messages.append('&lt;div id="file-' + id + '" class="alert" style="margin: 20px 0 0">&lt;/div>');
        },
        onUpload: function(id, fileName) {
          $('#file-' + id).addClass('alert-info')
                          .html('&lt;img src="client/loading.gif" alt="Initializing. Please hold."> ' +
                                'Initializing ' +
                                '“' + fileName + '”');
        },
        onProgress: function(id, fileName, loaded, total) {
          if (loaded < total) {
            progress = Math.round(loaded / total * 100) + '% of ' + Math.round(total / 1024) + ' kB';
            $('#file-' + id).removeClass('alert-info')
                            .html('&lt;img src="client/loading.gif" alt="In progress. Please hold."> ' +
                                  'Uploading ' +
                                  '“' + fileName + '” ' +
                                  progress);
          } else {
            $('#file-' + id).addClass('alert-info')
                            .html('&lt;img src="client/loading.gif" alt="Saving. Please hold."> ' +
                                  'Saving ' +
                                  '“' + fileName + '”');
          }
        },
        onComplete: function(id, fileName, responseJSON) {
          if (responseJSON.success) {
            $('#file-' + id).removeClass('alert-info')
                            .addClass('alert-success')
                            .html('&lt;i class="icon-ok">&lt;/i> ' +
                                  'Successfully saved ' +
                                  '“' + fileName + '”' +
                                  '&lt;br>&lt;img src="img/success.jpg" alt="' + fileName + '">');
          } else {
            $('#file-' + id).removeClass('alert-info')
                            .addClass('alert-error')
                            .html('&lt;i class="icon-exclamation-sign">&lt;/i> ' +
                                  'Error with ' +
                                  '“' + fileName + '”: ' +
                                  responseJSON.error);
          }
        }
      },
      debug: true
    });
  });
&lt;/script></pre>
                        </div>
                    </div>
                </section>
            </div>        
        </div>        

        <div id="footer"></div>

        <script>
            $(document).ready(function() {
                $fub = $('#fine-uploader-basic');
                $messages = $('#messages');

                var uploader = new qq.FineUploaderBasic({
                    button: $fub[0],
                    request: {
                        endpoint: 'server/success.html'
                    },
                    validation: {
                        allowedExtensions: ['jpeg', 'jpg', 'gif', 'png'],
                        sizeLimit: 204800 // 200 kB = 200 * 1024 bytes
                    },
                    callbacks: {
                        onSubmit: function(id, fileName) {
                            $messages.append('<div id="file-' + id + '" class="alert" style="margin: 20px 0 0"></div>');
                        },
                        onUpload: function(id, fileName) {
                            $('#file-' + id).addClass('alert-info')
                                            .html('<img src="client/loading.gif" alt="Initializing. Please hold."> ' +
                                                  'Initializing ' +
                                                  '“' + fileName + '”');
                        },
                        onProgress: function(id, fileName, loaded, total) {
                            if (loaded < total) {
                                progress = Math.round(loaded / total * 100) + '% of ' + Math.round(total / 1024) + ' kB';
                                $('#file-' + id).removeClass('alert-info')
                                                .html('<img src="client/loading.gif" alt="In progress. Please hold."> ' +
                                                      'Uploading ' +
                                                      '“' + fileName + '” ' +
                                                      progress /*+
                                                      ' <span class="btn btn-warning"><i class="icon-remove"></i></span>'*/);
                            } else {
                                $('#file-' + id).addClass('alert-info')
                                                .html('<img src="client/loading.gif" alt="Saving. Please hold."> ' +
                                                      'Saving ' +
                                                      '“' + fileName + '”');
                            }
                        },
                        onComplete: function(id, fileName, responseJSON) {
                            if (responseJSON.success) {
                                $('#file-' + id).removeClass('alert-info')
                                                .addClass('alert-success')
                                                .html('<i class="icon-ok"></i> ' +
                                                      'Successfully saved ' +
                                                      '“' + fileName + '”' +
                                                      '<br><img src="img/success.jpg" alt="' + fileName + '">');
                            } else {
                                $('#file-' + id).removeClass('alert-info')
                                                .addClass('alert-error')
                                                .html('<i class="icon-exclamation-sign"></i> ' +
                                                      'Error with ' +
                                                      '“' + fileName + '”: ' +
                                                      responseJSON.error);
                            }
                        }
                    },
                    debug: true,
                    demoMode: true // Undocumented -> Only for the gh-pages demo website
                });
            });
        </script>
        <script>
            window.prettyPrint && prettyPrint();
            $('.dropdown-toggle').dropdown();

            $.get('./navbar.html', function(data) {
                $('#navbar').html(data);
                $('#navbar').find('li.dropdown').addClass('active')
                                                .find('li').eq(2).addClass('active');
            });
            $.get('./footer.html', function(data) { $('#footer').html(data); });
        </script>
    </body>
</html>
